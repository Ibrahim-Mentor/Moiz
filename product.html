<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - Moiz's Store</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #fff;
            --secondary-color: #f4f6f8;
            --accent-color: #007bff;
            --text-color: #343a40;
            --heading-color: #212529;
            --border-color: #dee2e6;
            --card-shadow: 0 4px 15px rgba(0, 0, 0, .07);
        }
        * { box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; margin: 0; background-color: var(--secondary-color); color: var(--text-color); }
        .container { width: 90%; max-width: 1100px; margin: 0 auto; }
        
        /* --- HEADER & FOOTER (Consistent with other pages) --- */
        .header { background-color: var(--primary-color); padding: 15px 0; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0, 0, 0, .05); }
        .header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 700; color: var(--heading-color); text-decoration: none; }
        .main-nav a { font-weight: 600; color: var(--text-color); text-decoration: none; margin: 0 15px; transition: color .3s; }
        .main-nav a:hover { color: var(--accent-color); }
        .header-icons { display: flex; align-items: center; }
        .header-icons a { margin-left: 20px; color: var(--heading-color); text-decoration: none; font-size: 1.5rem; }
        .footer { background-color: #2c3e50; color: #bdc3c7; padding: 40px 0; margin-top: 50px; }
        .footer .container { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 30px; }
        .footer h4 { color: #fff; } .footer p { line-height: 1.8; }
        .footer a { color: #bdc3c7; text-decoration: none; display: block; margin-bottom: 8px; transition: color .3s ease; }
        .footer a:hover { color: var(--accent-color); }

        /* --- PRODUCT PAGE STYLES --- */
        .product-page-container {
            padding: 50px 0;
        }
        .product-page-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            background-color: var(--primary-color);
            padding: 40px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
        }
        .product-image-gallery img {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: cover;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }
        .product-details-content h1 {
            font-size: 2.5rem;
            color: var(--heading-color);
            margin-top: 0;
            margin-bottom: 15px;
        }
        .star-rating {
            color: #f39c12;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .product-price {
            font-size: 2rem;
            color: var(--accent-color);
            font-weight: 700;
            margin-bottom: 25px;
        }
        .product-description {
            font-size: 1rem;
            line-height: 1.8;
            margin-bottom: 30px;
            color: #555;
        }
        .add-to-cart-btn {
            display: block;
            width: 100%;
            background-color: var(--accent-color);
            color: #fff;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color .3s, transform .2s;
        }
        .add-to-cart-btn:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }
        .add-to-cart-btn.added {
            background-color: #28a745;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .product-page-layout {
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 20px;
            }
            .product-details-content h1 {
                font-size: 2rem;
            }
        }
        
        .product-not-found {
            text-align: center;
            padding: 80px 20px;
            background-color: var(--primary-color);
            border-radius: 10px;
        }
         .product-not-found a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="index.html" class="logo">Moiz's Store</a>
            <nav class="main-nav">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
            </nav>
            <div class="header-icons">
                 <a href="signup.html" title="My Account">&#128100;</a>
                 <a href="cart.html" title="Shopping Cart">&#128722;</a>
            </div>
        </div>
    </header>

    <main class="container product-page-container">
        <div id="product-details-wrapper"></div>
    </main>

    <footer class="footer">
        <div class="container">
            <div><h4>About Moiz's Store</h4><p>Your one-stop shop for the latest trends in Gujranwala. We are committed to providing the best products and services.</p></div>
            <div><h4>Quick Links</h4><a href="index.html">Home</a><a href="about.html">About Us</a></div>
            <div><h4>Follow Us</h4><div class="social-media"><a href="#">FB</a> <a href="#">IG</a> <a href="#">TW</a></div></div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // This product data should ideally come from a central file, but for now, we'll keep it here.
            // It MUST be the same as on the homepage for consistency.
            const products = [
                { id: 1, name: "Stylish T-Shirt", price: 1499, image: "a2.jpg", rating: 5, description: "A high-quality, comfortable t-shirt perfect for casual wear. Made from 100% premium cotton with a modern fit that suits any style." },
                { id: 2, name: "Wireless Headphones", price: 5999, image: "azan4.jpg", rating: 4, description: "Experience immersive sound with these noise-cancelling wireless headphones. Features a 20-hour battery life, plush earcups, and crystal-clear microphone." },
                { id: 3, name: "Modern Smart Watch", price: 9500, image: "azan3.jpg", rating: 5, description: "Track your fitness, receive notifications, and stay connected. This sleek smartwatch has a vibrant AMOLED display, heart rate monitor, and is water-resistant." },
                { id: 4, name: "Running Shoes", price: 4200, image: "azan2.jpg", rating: 4, description: "Lightweight and durable running shoes designed for maximum comfort and performance. The breathable mesh upper and cushioned sole make them perfect for your daily run." },
                { id: 5, name: "Classic Blue Jeans", price: 3200, image: "a1.jpg", rating: 5, description: "A timeless pair of blue jeans that offer both style and comfort. Made from stretch-denim fabric, they are perfect for any occasion, from casual Fridays to a night out." },
                { id: 6, name: "Leather Wallet", price: 1800, image: "azan4.jpg", rating: 4, description: "A sophisticated and durable genuine leather wallet with multiple card slots, a clear ID window, and a spacious cash compartment. A perfect blend of style and function." },
            ];

            const productDetailsWrapper = document.getElementById('product-details-wrapper');
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            const saveCart = () => {
                localStorage.setItem('cart', JSON.stringify(cart));
            };

            // --- Function to get product ID from URL ---
            const getProductId = () => {
                const urlParams = new URLSearchParams(window.location.search);
                return parseInt(urlParams.get('id'));
            };

            // --- Function to render product details ---
            const renderProduct = () => {
                const productId = getProductId();
                const product = products.find(p => p.id === productId);

                if (product) {
                    document.title = `${product.name} - Moiz's Store`; // Update page title
                    
                    let starsHTML = Array(5).fill(0).map((_, i) => i < product.rating ? '★' : '☆').join('');

                    productDetailsWrapper.innerHTML = `
                        <div class="product-page-layout">
                            <div class="product-image-gallery">
                                <img src="${product.image}" alt="${product.name}">
                            </div>
                            <div class="product-details-content">
                                <h1>${product.name}</h1>
                                <div class="star-rating">${starsHTML}</div>
                                <p class="product-price">PKR ${product.price.toLocaleString()}</p>
                                <p class="product-description">${product.description}</p>
                                <button class="add-to-cart-btn" data-id="${product.id}">Add to Cart</button>
                            </div>
                        </div>
                    `;
                    
                    // Add event listener to the new button
                    const addToCartBtn = productDetailsWrapper.querySelector('.add-to-cart-btn');
                    addToCartBtn.addEventListener('click', () => {
                        handleAddToCart(product.id, addToCartBtn);
                    });

                } else {
                    productDetailsWrapper.innerHTML = `
                        <div class="product-not-found">
                            <h2>Product Not Found</h2>
                            <p>Sorry, we couldn't find the product you were looking for.</p>
                            <a href="index.html">Back to Homepage</a>
                        </div>
                    `;
                }
            };
            
            const handleAddToCart = (productId, buttonElement) => {
                 const product = products.find(p => p.id === productId);
                 if (!product) return;

                 const existingItem = cart.find(item => item.id === productId);
                 if (existingItem) {
                     existingItem.quantity++;
                 } else {
                     cart.push({ ...product, quantity: 1 });
                 }
                 saveCart();
                 
                 // --- Provide visual feedback ---
                 buttonElement.textContent = 'Added!';
                 buttonElement.classList.add('added');
                 setTimeout(() => {
                     buttonElement.textContent = 'Add to Cart';
                     buttonElement.classList.remove('added');
                 }, 1500);
            };

            // --- Initial render on page load ---
            renderProduct();
        });
    </script>
</body>
</html>